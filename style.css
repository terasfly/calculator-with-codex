:root{
  --c-red:      hsl(0  75% 88%);
  --c-orange:   hsl(24 75% 88%);
  --c-yellow:   hsl(48 75% 88%);
  --c-lime:     hsl(86 60% 88%);
  --c-green:    hsl(140 55% 88%);
  --c-teal:     hsl(170 55% 88%);
  --c-cyan:     hsl(190 55% 88%);
  --c-blue:     hsl(215 65% 88%);
  --c-indigo:   hsl(245 55% 88%);
  --c-violet:   hsl(275 55% 88%);
  --c-pink:     hsl(315 60% 88%);

  --text: hsl(220 25% 20%);
  --text-strong: hsl(220 35% 15%);
  --screen-bg: #ffffffcc;

  --radius: 22px;
  --shadow-soft: 0 10px 24px -6px rgb(0 0 0 / .18);
  --shadow-inner: inset 0 2px 6px rgb(0 0 0 / .08);
  --transition: 180ms cubic-bezier(.2,.8,.2,1);
}

html,body{
  height:100%;
}
body{
  margin:0;
  display:grid;
  place-items:center;
  background:
    radial-gradient(1200px 1200px at 10% -10%,
      hsl(200 100% 98%) 0%,
      transparent 50%),
    radial-gradient(1200px 1200px at 110% 110%,
      hsl(320 100% 98%) 0%,
      transparent 50%),
    linear-gradient(130deg,
      hsl(200 100% 97%),
      hsl(280 100% 98%));
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--text);
}

.calculator{
  width:min(92vw, 380px);
  border-radius: var(--radius);
  background: linear-gradient(180deg, #ffffffaa, #ffffffee);
  box-shadow: var(--shadow-soft);
  padding:16px;
  position: relative;
  overflow: hidden;
}

.calculator::before{
  content:"";
  position:absolute;
  inset:-2px;
  z-index:-1;
  background:
    conic-gradient(from 0deg at 50% 50%,
      var(--c-red),
      var(--c-orange),
      var(--c-yellow),
      var(--c-lime),
      var(--c-green),
      var(--c-teal),
      var(--c-cyan),
      var(--c-blue),
      var(--c-indigo),
      var(--c-violet),
      var(--c-pink),
      var(--c-red));
  filter: blur(16px) saturate(1.05);
}

.header{
  padding: 10px;
}
.screen{
  height: 68px;
  border-radius: 16px;
  background: var(--screen-bg);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: var(--shadow-inner), 0 1px 0 #fff inset;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  padding: 0 16px;
  font-size: 32px;
  font-weight: 600;
  color: var(--text-strong);
}

.keys {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-auto-rows: 70px; /* ensures equal height */
  gap: 10px;
}

.key {
  user-select: none;
  display: flex;               /* make button a flex container */
  align-items: center;         /* vertical center */
  justify-content: center;     /* horizontal center */
  border-radius: 14px;
  font-size: 18px;
  font-weight: 700;
  color: var(--text-strong);
  cursor: pointer;
  transition: transform var(--transition), box-shadow var(--transition), filter var(--transition);
  box-shadow: 0 6px 14px -6px rgb(0 0 0 / .15);
  border: 1px solid rgb(255 255 255 / .65);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

.key.empty {
  visibility: hidden;
}

.keys .key:nth-child(1)  { background: linear-gradient(180deg, var(--c-red),    #fff); }
.keys .key:nth-child(2)  { background: linear-gradient(180deg, var(--c-orange), #fff); }
.keys .key:nth-child(3)  { background: linear-gradient(180deg, var(--c-yellow), #fff); }
.keys .key:nth-child(4)  { background: linear-gradient(180deg, var(--c-lime),   #fff); }

.keys .key:nth-child(5)  { background: linear-gradient(180deg, var(--c-green),  #fff); }
.keys .key:nth-child(6)  { background: linear-gradient(180deg, var(--c-teal),   #fff); }
.keys .key:nth-child(7)  { background: linear-gradient(180deg, var(--c-cyan),   #fff); }
.keys .key:nth-child(8)  { background: linear-gradient(180deg, var(--c-blue),   #fff); }

.keys .key:nth-child(9)  { background: linear-gradient(180deg, var(--c-indigo), #fff); }
.keys .key:nth-child(10) { background: linear-gradient(180deg, var(--c-violet), #fff); }
.keys .key:nth-child(11) { background: linear-gradient(180deg, var(--c-pink),   #fff); }
.keys .key:nth-child(12) { background: linear-gradient(180deg, var(--c-red),    #fff); }

.keys .key:nth-child(13) { background: linear-gradient(180deg, var(--c-orange), #fff); }
.keys .key:nth-child(14) { background: linear-gradient(180deg, var(--c-yellow), #fff); }
.keys .key:nth-child(15) { background: linear-gradient(180deg, var(--c-lime),   #fff); }
.keys .key:nth-child(16) { background: linear-gradient(180deg, var(--c-green),  #fff); }

.keys .key:nth-child(17) { background: linear-gradient(180deg, var(--c-teal),   #fff); }
.keys .key:nth-child(18) { background: linear-gradient(180deg, var(--c-cyan),   #fff); }
.keys .key:nth-child(19) { background: linear-gradient(180deg, var(--c-blue),   #fff); }
.keys .key:nth-child(20) { background: linear-gradient(180deg, var(--c-indigo), #fff); }

.key:hover{
  transform: translateY(-2px);
  box-shadow: 0 10px 18px -6px rgb(0 0 0 / .18);
}
.key:active{
  transform: translateY(0);
  box-shadow: 0 6px 10px -6px rgb(0 0 0 / .18), var(--shadow-inner);
  filter: saturate(1.1);
}

.key.operator{
  border-color: rgb(255 255 255 / .9);
}
.key.empty {
  visibility: hidden; /* takes up space but doesnâ€™t show */
}
.key.zero {
  grid-column: span 2;
}

#clear{
  background: linear-gradient(180deg, hsl(350 80% 90%), #fff);
  box-shadow: 0 8px 16px -6px rgb(255 90 120 / .25);
}

.key.lite{
  background: linear-gradient(180deg, hsl(0 0% 98%), #fff);
  color: hsl(220 10% 35%);
}

#equals{
  position: relative;
  overflow: hidden;
  grid-row: span 3;
}
#equals::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(120deg, transparent 0%, rgb(255 255 255 / .35) 40%, transparent 80%);
  transform: translateX(-120%);
  transition: transform 600ms ease;
}
#equals:hover::after{
  transform: translateX(120%);
}
.key.flash {
  animation: flashAnim 150ms ease;
}

.key.flash { animation: flashAnim 150ms ease; }
@keyframes flashAnim {
  0% { filter: brightness(1.2) saturate(1.2); }
  50% { filter: brightness(1.6) saturate(1.5); }
  100% { filter: brightness(1.2) saturate(1.2); }
}
